{{ define "main" }}
  {{ with .Params.details }}
    <p>Details: <a href="{{ . }}">{{ . }}</a></p>
  {{ end }}
  {{ with .Params.description }}
    <p>Description: {{ . }}</p>
  {{ end }}
  {{ with or .Params.url .Params.details }}
    <hr>
  {{ end }}
  {{ .Content }}

  <h2>Example 1</h2>

  <p>Resize a JPEG image to 300 px width, convert to WebP, and a 20 px blue
  border with 50% transparency. The border should be transparent blue, which it
  is.</p>

  {{ with resources.Get "a.jpg" }}
    {{ $filters := slice
      (images.Process "resize 300x webp")
      (images.Padding 20 "#00f7")
    }}
    {{ with . | images.Filter $filters }}
      <img src="{{ .RelPermalink }}" width="{{ .Width }}" height="{{ .Height }}" alt="">
    {{ end }}
  {{ end }}

  <h2>Example 2</h2>

  <p>Resize a JPEG image to 200 px height, convert to PNG, and a 20 px blue
  border with 50% transparency. The border should be transparent blue, which it
  is.</p>

  {{ with resources.Get "a.jpg" }}
    {{ $filters := slice
      (images.Process "resize x200 png")
      (images.Padding 20 "#00f7")
    }}
    {{ with . | images.Filter $filters }}
      <img src="{{ .RelPermalink }}" width="{{ .Width }}" height="{{ .Height }}" alt="">
    {{ end }}
  {{ end }}

  <p>Resize a JPEG image to 200 px height, convert to PNG, and a 20 px blue
  border with 50% transparency. The border should be transparent blue, but it
  isn't! ðŸ¤”</p>

  {{ with resources.Get "a.jpg" }}
    {{- $image := .Resize "300x png" }}
    {{- $image = $image.Filter (images.Padding 20 "#00f7") }}
  <img src="{{ $image.RelPermalink }}" width="{{ $image.Width }}" height="{{ $image.Height }}" alt="">
  {{- end }}

  <p>Resize a JPEG image to 300 px height, convert to PNG, and a 20 px blue
  border with 50% transparency. The border should be transparent blue, but
  instead it is opaque grey! ðŸ¤”</p>

  {{ with resources.Get "a.jpg" }}
    {{- $image := .Resize "x300 png" }}
    {{- $image = $image.Filter (images.Padding 20 "#00f7") }}
  <img src="{{ $image.RelPermalink }}" width="{{ $image.Width }}" height="{{ $image.Height }}" alt="">
  {{- end }}

{{ end }}
