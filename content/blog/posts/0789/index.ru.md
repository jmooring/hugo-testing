---
type: post
date: "2021-09-04T11:02:58+02:00"
title: "Сентябрьский апдейт: абьюзы и статистика"
tags:
    - once.to
    - новости
    - Интернет
    - веб
    - Yktoo Solutions
    - софт
    - сокращатель ссылок
    - сокращатель URL
    - безопасность
    - кибербезопасность
    - мошенники
    - жульё
image: "https://res.cloudinary.com/yktoo/image/upload/blog/s3haesxb1fgf3otyk51i.png"
series: once.to
---

Вот и осень пришла, а с ней и очередная порция новостей о развитии самого быстрого в мире сокращателя ссылок **[once.to](https://once.to/once)**!

В этом выпуске: фишеры и абьюзы, слаги и редиректы!

## Отпетые мошенники

После [выхода once.to из беты](0785) нам пришлось столкнуться с необычайным наплывом фишеров и прочих скамеров — за короткое время в сервисе насоздавали несколько десятков ссылок на фишинговые сайты, имитирующие страницы логина банков, Фейсбука, Гугла и т.п.

<!--more-->

Поскольку сервис был ещё молодой и сравнительно неизвестный, в какой-то момент {{< fl "Google Safe Browsing" >}} занёс весь короткий домен `1e.to` в список опасных (подробнее см. в [блоге once.to](https://docs.once.to/en/blog/0015/)) — это было, конечно, неприятно.

Мы, однако, не растерялись и быстро всё поправили:

* Забанили все мошеннические ссылки и создавших их пользователей (некоторые даже пытались купить платный аккаунт ворованной кредиткой!);
* Подключили чёрный список доменов и адресов, ссылки на которые сокращать запрещено;
* Также запретили ссылки на другие сокращатели ссылок и динамические {{< fl "DNS" >}};
* Добавили капчу ([Google reCAPTCHA](https://www.google.com/recaptcha/)) для анонимных пользователей, заметно отбивающую охоту плодить мошеннические ссылки.

{{< imgfig "https://res.cloudinary.com/yktoo/image/upload/blog/q4xxhjz1qmlhsybx4vnx.png" "Google reCAPTCHA в действии." >}}

Домен `1e.to` из списка опасных Гугл, конечно, удалил, и больше подобных проблем мы не имели.

## «Распаковка редиректов»

Следующим шагом в нашей священной борьбе с жуликами стало нововведение под названием [redirect unwrapping](https://docs.once.to/en/blog/0016/) («распаковка редиректов»). Смысл его состоит в том, что, когда вы сокращаете {{< fl "URL" >}}, с которого пользователя перенаправляют на другой сайт, то {{< fl "once.to" >}} использует адрес этого конечного пункта назначения вместо изначально введённого — распутывая таким образом всю цепочку редиректов.

Например:

`http://facebook.com/yktoo` → `https://facebook.com/yktoo` → `https://www.facebook.com/yktoo`

Это даёт целый ряд преимуществ:

* Во-первых, ~~это красиво~~ это сильно сокращает время, необходимое посетителю для того, чтобы добраться до финального адреса (а [это важно](https://once.to/fast)).
* Во-вторых, это ограничивает количество редиректов десятью — что соответствует стандартному поведению браузера, выдающему ошибку после **10** последовательных редиректов.
* В-третьих, скамеры почему-то часто пытаются скрыть конечный адрес за цепочкой редиректов с разных сервисов (для чего, мне лично не очень понятно, так как распутать такую цепочку для автоматизированного сервиса — задача совершенно тривиальная), а в таком варианте все их усилия идут прахом (а они сами — лесом).
* Ну и, напоследок, приятный бонус: вы не сможете сократить несуществующий или недоступный адрес, что заметно снижает вероятность ошибки — и это на руку самому пользователю:

{{< imgfig "https://res.cloudinary.com/yktoo/image/upload/blog/nmvfbirfoonhn2y8sbqo.png" "Попытка сократить несуществующий URL." "border shadow" >}}

В настоящий момент механизм «распаковки» применяется лишь к ссылкам, сокращённым анонимными пользователями, но в будущем он распространится на все ссылки.

## Абьюзы

В случае, когда зловредная ссылка всё же просочилась через все вышеприведённые фильтры, любой посетитель [once.to](https://once.to/once) легко может на неё пожаловаться с помощью специальной [формы абьюз-репорта](https://once.to/abuse):

{{< imgfig "https://res.cloudinary.com/yktoo/image/upload/blog/ktfwuvsudllmmltxqxnq.png" "Форма абьюз-репорта once.to." "border shadow" >}}

Форма сама проконтролирует, что введённая ссылка действительно обслуживается сервисом, а также что она ещё не забанена.

## Статистика всё краше

В пылу схватки с мошенниками мы в [once.to](https://once.to/once) не забываем и о добропорядочных пользователях (хотя, надо признаться, события этого лета заставили нас срочно пересмотреть приоритеты, в настоящий момент мы вновь можем сосредоточиться на полезном и приятном функционале).

Одно из давно планировавшихся улучшений касается статистики кликов по коротким ссылкам.

Появилась возможность просматривать статистику в разрезе ссылок, а точнее, коротких окончаний ({{< fl "slug" >}}):

{{< imgfig "https://res.cloudinary.com/yktoo/image/upload/blog/uopblhtcvqgsr3a8dfru.png" "Статистика в разрезе ссылок." "border shadow" >}}

Окончания в легенде (списке обозначений под диаграммой) кликабельны и по ним можно перейти к свойствам конкретной ссылки.

Также кликабельными сделаны рефереры в соответствующей диаграмме:

{{< imgfig "https://res.cloudinary.com/yktoo/image/upload/blog/togrjzwlveu2qy6uyexx.png" "Статистика по реферерам." "border shadow" >}}

А в статистике по странам и языкам выводятся подсказки с расшифровкой кода {{< fl "ISO" >}}:

{{< imgfig "https://res.cloudinary.com/yktoo/image/upload/blog/hwhebunbeeodfstbigi4.png" "Статистика по языкам и подсказка-расшифровка." "border shadow" >}}

## Мобильные устройства

Также мы значительно улучшили «отзывчивость» статистических диаграмм на небольших экранах, с чем раньше были проблемы. Легенда теперь выводится под диаграммой и нормально масштабируется:

{{< imgfig "https://res.cloudinary.com/yktoo/image/upload/blog/lhbd6uecijbxyq0gzutd.png" "Круговая диаграмма на экране мобильника." "border shadow" >}}

## Емэйл-рассылка

Вчера впервые вышла емэйл-рассылка с новостями сервиса, реализация механизма которой заняла изрядное количество времени. В наших планах сделать такие рассылки регулярными (раз-два в месяц), чтобы держать пользователей в курсе происходящего.

Если вы тоже заинтересованы в получении такой рассылки, создайте [бесплатный аккаунт](https://once.to/signup), включив соответствующую галочку при регистрации.

## Продолжение следует

Это лишь небольшая часть нововведений в [once.to](https://once.to/once) за последние два месяца, помимо этого проделана большая работа по оптимизации и повышению стабильности его работы.

А дальше будет ещё больше, оставайтесь с нами.
