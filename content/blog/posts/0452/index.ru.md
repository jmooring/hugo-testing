---
type: post
date: "2019-11-04T19:52:12+01:00"
title: "Cloudinary — новый хостинг изображений yktoo.com"
tags:
    - сайт
    - Интернет
    - блог
    - Cloudinary
image: "https://res.cloudinary.com/yktoo/image/upload/blog/lofwba8bki64dfhapgfk.png"
---

Мечты сбываются. Наконец-то я мигрировал с опостылевшего {{< fl "Google Photos" >}} на относительно независимый, крайне удобный и — что немаловажно — **бесплатный** облачный сервис [Cloudinary](https://cloudinary.com/invites/lpov9zyyucivvxsnalc5/l6ccxxrfxv0mdc6iewg8).

Время, конечно, покажет, насколько умно я поступил, но пока то, что я видел, вселяет оптимизм.

<!--more-->

## Тюрьма Google Photos

{{< fl "Google" >}} всё дальше отходит от своей изначальной модели полезных, удобных и необременённых всякой чепухой продуктов в сферу каких-то мутных маркетинговых стратегий, призванных ублажить акционеров. Множество удобных и популярных продуктов (таких как {{< fl "Reader" >}}, {{< fl "GTalk" >}} и {{< fl "Google+" >}}) успешно убиты по причине недостаточной прибыльности, перспективности или профильности. Из других — {{< fl "Google Maps" >}} — пытаются выжать всё, что можно, урезая бесплатный функционал и взвинчивая тарифы.

Фотохостинг {{< fl "Google Photos" >}} пока вроде бы убивать не собираются, но делают всё неудобнее и неудобнее, силком загоняя пользователей в их веб-интерфейс. Вставлять прямые ссылки на изображения стало уже практически невозможно. Есть лазейка в виде {{< fl "Google Album Archive" >}}, но он не очень удобен, и, кроме того, никто не может гарантировать, что и её не прикроют.

Я до последнего момента пользовался ещё одной лазейкой — гугловским сервисом {{< fl "Blogger" >}}, позволяющим получать прямые ссылки на изображения из {{< fl "Photos" >}}, но и тут тоже, во-первых, всё неясно с правовой точки зрения, а во-вторых, просто чертовски неудобно — каждое изображение требует такой уймы манипуляций, что отбивает всё желание писать посты.

## Cloudinary

Я начал изучать имеющиеся возможности и довольно быстро набрёл на сервис [Cloudinary](https://cloudinary.com/invites/lpov9zyyucivvxsnalc5/l6ccxxrfxv0mdc6iewg8).

У них есть бесплатный план, изначально дающий **25** *кредитов*. Один кредит эквивалентен **1 ГБ** хранимых файлов, **1 ГБ** исходящего трафика или **1000** трансформаций. Трансформацией является, например, создание уменьшенного варианта изображения — функция, которую я использую очень интенсивно.

{{< imgfig "https://res.cloudinary.com/yktoo/image/upload/blog/lofwba8bki64dfhapgfk.png" "Консоль Cloudinary." >}}

У меня, правда, не было ни малейшего понятия, каков объём изображений на {{< fl "yktoo.com" >}}. Позже я установил, что чуть больше гигабайта.

## Миграция

Одним из гигантских преимуществ {{< fl "Cloudinary" >}} перед {{< fl "Google Photos" >}} является наличие очень простого в использовании {{< fl "API" >}}, программного интерфейса, для множества языков: {{< fl "Java" >}}, {{< fl "Python" >}}, {{< fl "PHP" >}}, {{< fl "JavaScript" >}} и т.д.

Так что я, недолго думая, засучил рукава и принялся писать скрипт на {{< fl "Python" >}}, который я назвал [reimage](https://github.com/yktoo/yktoo.com/blob/master/_dev_/reimage). Программа состоит из четырёх компонентов:

* `Scanner` — сканирует все файлы с контентом и извлекает адреса изображений;
* `Downloader` — скачивает все изображения на локальный диск;
* `Uploader` — загружает все изображения в облако {{< fl "Cloudinary" >}};
* `Processor` — обновляет все старые адреса изображений на новые, из {{< fl "Cloudinary" >}}.

Программа получилась короткой и сработала на ура, за считанные минуты перелопатив три тысячи страниц и перекачав примерно **3700** изображений на новый хостинг, попутно отловив все отсутствующие изображения. Ручной работы практически не потребовалось.

## Опыт использования Cloudinary

По сравнению со связкой {{< fl "Google Photos" >}} + {{< fl "Blogger" >}}, {{< fl "Cloudinary" >}} — это просто глоток свежего воздуха. Изображения в {{< fl "Cloudinary" >}} можно добавлять, просто перетаскивая их с локального диска на веб-страницу, после чего копировать готовую ссылку одним кликом.

Также есть возможность копировать их с других Интернет-ресурсов, {{< fl "Dropbox" >}}, {{< fl "Facebook" >}} и других:

{{< imgfig "https://res.cloudinary.com/yktoo/image/upload/blog/oewitk5ezqalf8bno3a9.png" "Добавление новых изображений в Cloudinary." >}}

Ещё одна мощная фича — преобразования ({{< fl "transformations" >}}). Хостинг позволяет «на ходу» применять к изображениям различные трансформации — фильтры, изменения размера или формата, добавлять текст, рамки и т.п.

Также поддерживаются видео, но я этой функциональностью не пользуюсь.

Лимит в **25** кредитов можно быстро и легко поднять до **33**, просто ретвитнув ссылку и подписавшись на {{< fl "Cloudinary" >}} в Твиттере. Мне кажется, что этому сайту, с его текущей популярностью, такого лимита должно хватить с лихвой.

Впрочем, поживём — увидим.

> Если {{< fl "Cloudinary" >}} вас тоже заинтересовал, буду признателен, если для регистрации вы воспользуетесь моей **[реферральной ссылкой](https://cloudinary.com/invites/lpov9zyyucivvxsnalc5/l6ccxxrfxv0mdc6iewg8)** — вам всё равно, а сайту польза :-)
